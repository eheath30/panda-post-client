let section=document.getElementById("posts"),returnButton=document.getElementById("makepost"),fetchUrl="http://localhost:3000/posts";async function fetchData(){let t=await fetch(fetchUrl);appendResult((await t.json()).posts)}function appendResult(t){console.log(t),t.forEach(appendResults)}function appendResults(t){const e=document.createElement("section"),n=document.createElement("h1"),o=document.createElement("h2"),c=document.createElement("description"),d=document.createElement("button"),l=document.createElement("button");n.textContent=t.title,o.textContent=t.alias,c.textContent=t.description,d.textContent="delete",l.innerHTML`Edit post <i class="fa-solid fa-pen-to-square"></i>`,d.setAttribute("id",`${t.id}-D`),d.setAttribute("id",`${t.id}-E`),d.onclick=()=>deletePost(t.id,e),l.onclick=()=>editPost(t.id,e),e.appendChild(n),e.appendChild(o),e.appendChild(c),e.appendChild(d),e.appendChild(l),section.appendChild(e)}function deletePost(t,e){fetch(`http://localhost:3000/posts/${t}`,{method:"DELETE"}).then(e.remove()).then().catch(console.warn)}function editPost(){fetch(`http://localhost:3000/posts/${id}`,{method:"PUT"}).then((t=>t.json())).then((t=>{const{post:e}=t;tr.querySelectorAll("td")[1].textContent=dog.age})).catch(console.warn)}window.addEventListener("load",fetchData),returnButton.addEventListener("click",(()=>{document.location.href="./index.html"}));
